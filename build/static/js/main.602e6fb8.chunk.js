(this["webpackJsonpelectronics-shop-client"]=this["webpackJsonpelectronics-shop-client"]||[]).push([[0],{44:function(e,t,n){},70:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(35),o=n.n(s),a=(n(44),n(4)),i=n(14),u=n(3),j=(n(45),n(36)),l=n.n(j),d=n(20),h=n(1),b=function(){var e=Object(d.a)(),t=e.register,n=e.handleSubmit,r=Object(c.useState)(null),s=Object(a.a)(r,2),o=s[0],i=s[1];return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:n((function(e){var t={name:e.name,price:e.price,imageURL:o};console.log(t);fetch("https://calm-refuge-18534.herokuapp.com/addProduct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return console.log("server side response")}))})),children:[Object(h.jsx)("input",{name:"name",defaultValue:"New exciting Product",ref:t}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{name:"price",ref:t}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{name:"exampleRequired",type:"file",onChange:function(e){var t=new FormData;t.set("key","e0e08b1632cee2f9e41cba48d2d513fe"),t.append("image",e.target.files[0]),l.a.post("https://api.imgbb.com/1/upload",t).then((function(e){i(e.data.data.url)})).catch((function(e){console.log(e)}))}}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"submit"})]})})},p=function(){var e=Object(u.i)().ProductId,t=Object(c.useState)({}),n=Object(a.a)(t,2),r=n[0],s=n[1];Object(c.useEffect)((function(){fetch("https://calm-refuge-18534.herokuapp.com/products").then((function(e){return e.json()})).then((function(t){for(var n,c=0;c<t.length;c++)if(t[c]._id===e){n=c;break}s(t[n])}))}),[]);var o=Object(u.g)();return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["This is Product Detail Component : ",e]}),Object(h.jsxs)("h3",{children:["Name: ",r.name]}),Object(h.jsxs)("p",{children:["Price: ",r.price]}),Object(h.jsx)("button",{onClick:function(){o.push("/shipment/".concat(e))},children:"Checkout"})]})})},O=(n(70),function(){var e=Object(c.useContext)(E),t=Object(a.a)(e,2),n=(t[0],t[1]);return Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("h1",{children:"Electronics Shop"}),Object(h.jsxs)("nav",{children:[Object(h.jsx)(i.b,{to:"/",children:"Home"}),Object(h.jsx)(i.b,{to:"/addProducts",children:"Add Product"}),Object(h.jsx)(i.b,{to:"/manageProducts",children:"Manage Products"}),Object(h.jsx)(i.b,{to:"/orders",children:"Orders"}),Object(h.jsx)("button",{onClick:function(){return n({})},children:"Sign out"})]})]})}),f=function(e){var t=e.product,n=Object(u.g)();return Object(h.jsxs)("div",{className:"col-md-4",children:[Object(h.jsx)("img",{style:{height:"300px"},src:t.imageURL,alt:""}),Object(h.jsx)("h3",{children:t.name}),Object(h.jsx)("button",{onClick:function(){n.push("/checkout/".concat(t._id))},children:"Buy Now"})]})},m=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){fetch("https://calm-refuge-18534.herokuapp.com/products").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),Object(h.jsx)("div",{className:"row",children:n.map((function(e){return Object(h.jsx)(f,{product:e})}))})},x=n(15),g=n(13),v=(n(71),{apiKey:"AIzaSyDX0TADWiJaC5wnHTWRlr9fWItpBbeZJaE",authDomain:"electronics-shop-clien.firebaseapp.com",projectId:"electronics-shop-clien",storageBucket:"electronics-shop-clien.appspot.com",messagingSenderId:"123350579722",appId:"1:123350579722:web:6c9b8240eace712610bdf3"}),S=function(e){g.a.auth().currentUser.updateProfile({displayName:e}).then((function(){console.log("user name updated successfully")})).catch((function(e){console.log(e)}))};var y=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)({isSignedIn:!1,name:"",email:"",password:"",photo:""}),o=Object(a.a)(s,2),i=o[0],j=o[1];g.a.apps.length||g.a.initializeApp(v);var l=Object(c.useContext)(E),d=Object(a.a)(l,2),b=(d[0],d[1]),p=Object(u.g)(),O=(Object(u.h)().state||{from:{pathname:"/"}}).from,f=function(e,t){j(e),b(e),t&&p.replace(O)},m=function(e){var t=!0;if("email"===e.target.name&&(t=/\S+@\S+\.\S+/.test(e.target.value)),"password"===e.target.name){var n=e.target.value.length>6,c=/\d{1}/.test(e.target.value);t=n&&c}if(t){var r=Object(x.a)({},i);r[e.target.name]=e.target.value,j(r)}};return Object(h.jsxs)("div",{style:{textAlign:"center"},children:[i.isSignedIn?Object(h.jsx)("button",{onClick:function(){g.a.auth().signOut().then((function(e){return{isSignedIn:!1,name:"",email:"",photo:"",error:"",success:!1}})).catch((function(e){})).then((function(e){f(e,!1)}))},children:"Sign out"}):Object(h.jsx)("button",{onClick:function(){(function(){var e=new g.a.auth.GoogleAuthProvider;return g.a.auth().signInWithPopup(e).then((function(e){var t=e.user,n=t.displayName,c=t.photoURL;return{isSignedIn:!0,name:n,email:t.email,photo:c,success:!0}})).catch((function(e){console.log(e),console.log(e.message)}))})().then((function(e){f(e,!0)}))},children:"Google Sign In"}),Object(h.jsx)("br",{}),i.isSignedIn&&Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:[" Welcome, ",i.name]}),Object(h.jsxs)("p",{children:["Your email: ",i.email]}),Object(h.jsx)("img",{src:i.photo,alt:""})]}),Object(h.jsx)("h1",{children:"Our Own Authentication"}),Object(h.jsx)("input",{type:"checkbox",onChange:function(){return r(!n)},name:"newUser"}),Object(h.jsx)("label",{htmlFor:"newUser",children:"New User Sign up"}),Object(h.jsxs)("form",{onSubmit:function(e){var t,c,r;n&&i.email&&i.password&&(t=i.name,c=i.email,r=i.password,g.a.auth().createUserWithEmailAndPassword(c,r).then((function(e){var n=e.user;return n.error="",n.success=!0,S(t),n})).catch((function(e){var t={};return t.error=e.message,t.success=!1,t}))).then((function(e){f(e,!0)})),!n&&i.email&&i.password&&function(e,t){return g.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;return t.error="",t.success=!0,t})).catch((function(e){var t={};return t.error=e.message,t.success=!1,t}))}(i.email,i.password).then((function(e){f(e,!0)})),e.preventDefault()},children:[n&&Object(h.jsx)("input",{type:"text",name:"name",onBlur:m,placeholder:"Your name"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"text",name:"email",onBlur:m,placeholder:"Your Email address",required:!0}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"password",name:"password",onBlur:m,placeholder:"Your Password",required:!0}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"submit",value:n?"Sign up":"Sign in"})]}),Object(h.jsx)("p",{style:{color:"red"},children:i.error}),i.success&&Object(h.jsxs)("p",{style:{color:"green"},children:["User ",n?"created":"Logged In"," successfully"]})]})},P=function(e){var t=e.controlProduct;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:t.name}),Object(h.jsx)("p",{children:t.price}),Object(h.jsx)("button",{children:"edit"}),Object(h.jsx)("button",{onClick:function(){return e=t._id,console.log(e),void fetch("https://calm-refuge-18534.herokuapp.com/delete/".concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){console.log("deleted successfully",e)}));var e},children:"Delete"})]})},w=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){fetch("https://calm-refuge-18534.herokuapp.com/products").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),Object(h.jsx)("div",{children:n.map((function(e){return Object(h.jsx)(P,{controlProduct:e})}))})},k=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){fetch("https://calm-refuge-18534.herokuapp.com/orderDetails").then((function(e){return e.json()})).then((function(e){r(e)}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("h3",{children:["You have: ",n.length," orders"]}),n.map((function(e){return Object(h.jsxs)("li",{children:[e.name," from ",new Date(e.orderTime).toDateString("dd/MM/yyyy")]})}))]})},C=n(39),I=function(e){var t=e.children,n=Object(C.a)(e,["children"]),r=Object(c.useContext)(E),s=Object(a.a)(r,2),o=s[0];s[1];return Object(h.jsx)(u.b,Object(x.a)(Object(x.a)({},n),{},{render:function(e){var n=e.location;return o.email?t:Object(h.jsx)(u.a,{to:{pathname:"/login",state:{from:n}}})}}))},N=(n(73),function(){var e=Object(u.i)().ProductId;console.log(e);var t=Object(c.useState)({}),n=Object(a.a)(t,2),r=n[0],s=n[1];Object(c.useEffect)((function(){fetch("https://calm-refuge-18534.herokuapp.com/products").then((function(e){return e.json()})).then((function(t){for(var n,c=0;c<t.length;c++)if(t[c]._id===e){n=c;break}s(t[n])}))}),[]);var o=Object(d.a)(),i=o.register,j=o.handleSubmit,l=(o.watch,o.errors),b=Object(c.useContext)(E),p=Object(a.a)(b,2),O=p[0];p[1];return Object(h.jsxs)("form",{onSubmit:j((function(e){var t=Object(x.a)(Object(x.a)({},O),{},{shipment:e,products:r,orderTime:new Date});fetch("https://calm-refuge-18534.herokuapp.com/addOrder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e&&alert("your order placed successfully")}))})),className:"ship-form",children:[Object(h.jsx)("input",{name:"name",defaultValue:O.name,ref:i({required:!0}),placeholder:"Your Name"}),l.name&&Object(h.jsx)("span",{className:"error",children:"Name is required"}),Object(h.jsx)("input",{name:"email",defaultValue:O.email,ref:i({required:!0}),placeholder:"Your Email"}),l.email&&Object(h.jsx)("span",{className:"error",children:"Email is required"}),Object(h.jsx)("input",{name:"address",ref:i({required:!0}),placeholder:"Your Address"}),l.address&&Object(h.jsx)("span",{className:"error",children:"Address is required"}),Object(h.jsx)("input",{name:"phone",ref:i({required:!0}),placeholder:"Your Phone Number"}),l.phone&&Object(h.jsx)("span",{className:"error",children:"Phone Number is required"}),Object(h.jsx)("input",{type:"submit"})]})}),E=Object(c.createContext)();var D=function(e){var t=Object(c.useState)({}),n=Object(a.a)(t,2),r=n[0],s=n[1];return Object(h.jsx)(E.Provider,{value:[r,s],children:Object(h.jsxs)(i.a,{children:[Object(h.jsx)(O,{}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{exact:!0,path:"/",children:Object(h.jsx)(m,{})}),Object(h.jsx)(I,{path:"/addProducts",children:Object(h.jsx)(b,{})}),Object(h.jsx)(I,{path:"/manageProducts",children:Object(h.jsx)(w,{})}),Object(h.jsx)(I,{path:"/checkout/:ProductId",children:Object(h.jsx)(p,{})}),Object(h.jsx)(I,{path:"/shipment/:ProductId",children:Object(h.jsx)(N,{})}),Object(h.jsx)(I,{path:"/orders",children:Object(h.jsx)(k,{})}),Object(h.jsx)(u.b,{path:"/login",children:Object(h.jsx)(y,{})})]})]})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),s(e),o(e)}))};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(D,{})}),document.getElementById("root")),T()}},[[74,1,2]]]);
//# sourceMappingURL=main.602e6fb8.chunk.js.map