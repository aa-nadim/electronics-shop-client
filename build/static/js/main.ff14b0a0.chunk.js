(this["webpackJsonpelectronics-shop-client"]=this["webpackJsonpelectronics-shop-client"]||[]).push([[0],{46:function(e,t,c){},72:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(37),a=c.n(s),i=(c(46),c(5)),o=c(18),d=c(4),j=(c(47),c(38)),l=c.n(j),u=c(23),b=c(1),h=function(){var e=Object(u.a)(),t=e.register,c=e.handleSubmit,r=Object(n.useState)(null),s=Object(i.a)(r,2),a=s[0],o=s[1];return Object(b.jsxs)("div",{className:"card text-white bg-success mb-3",style:{textAlign:"center"},children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h1",{children:"Add Product"})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{onSubmit:c((function(e){var t={name:e.name,price:e.price,imageURL:a};console.log(t);fetch("https://calm-refuge-18534.herokuapp.com/addProduct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return console.log("server side response")}))})),children:[Object(b.jsx)("h5",{children:"Product Name"}),Object(b.jsx)("input",{name:"name",defaultValue:"New exciting Product",ref:t}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("h5",{children:"Product Price"}),Object(b.jsx)("input",{name:"price",ref:t}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("h5",{children:"Add Product Photo"}),Object(b.jsx)("input",{name:"exampleRequired",type:"file",onChange:function(e){var t=new FormData;t.set("key","e0e08b1632cee2f9e41cba48d2d513fe"),t.append("image",e.target.files[0]),l.a.post("https://api.imgbb.com/1/upload",t).then((function(e){o(e.data.data.url)})).catch((function(e){console.log(e)}))}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"btn btn-secondary",type:"submit"})]})})]})},O=function(){var e=Object(d.i)().ProductId,t=Object(n.useState)({}),c=Object(i.a)(t,2),r=c[0],s=c[1];Object(n.useEffect)((function(){fetch("https://calm-refuge-18534.herokuapp.com/products").then((function(e){return e.json()})).then((function(t){for(var c,n=0;n<t.length;n++)if(t[n]._id===e){c=n;break}s(t[c])}))}),[]);var a=Object(d.g)();return Object(b.jsxs)("div",{children:[Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{className:"thead-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Product ID"}),Object(b.jsx)("th",{scope:"col",children:"Product Name"}),Object(b.jsx)("th",{scope:"col",children:"Quantity"}),Object(b.jsx)("th",{scope:"col",children:"Price"})]})}),Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e}),Object(b.jsx)("td",{children:r.name}),Object(b.jsx)("th",{scope:"row",children:"1"}),Object(b.jsx)("td",{children:r.price})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Total"}),Object(b.jsx)("td",{}),Object(b.jsx)("th",{scope:"row"}),Object(b.jsx)("td",{children:r.price})]})]})]}),Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)("button",{className:"btn btn-secondary",onClick:function(){a.push("/shipment/".concat(e))},children:"Checkout"})})]})},m=(c(72),function(){var e=Object(n.useContext)(A),t=Object(i.a)(e,2),c=(t[0],t[1]);return Object(b.jsx)("div",{className:"header",children:Object(b.jsxs)("nav",{className:"d-flex justify-content-between",children:[Object(b.jsx)("h1",{className:"text-white font-weight-bold",children:"Electronics Shop"}),Object(b.jsxs)("div",{className:"navbar navbar-expand-lg justify-content-end",children:[Object(b.jsx)(o.b,{to:"/",className:"font-weight-bold",children:"Home"}),Object(b.jsx)(o.b,{to:"/addProducts",className:"font-weight-bold",children:"Add Product"}),Object(b.jsx)(o.b,{to:"/manageProducts",className:"font-weight-bold",children:"Manage Products"}),Object(b.jsx)(o.b,{to:"/orders",className:"font-weight-bold",children:"Orders"}),Object(b.jsx)("button",{onClick:function(){return c({})},className:"font-weight-bold btn btn-success",children:"Sign out"})]})]})})}),p=function(e){var t=e.product,c=Object(d.g)();return Object(b.jsx)("div",{className:"col-md-3",children:Object(b.jsxs)("div",{className:"card mt-3",style:{width:"18rem",height:"400px"},children:[Object(b.jsx)("img",{className:"card-img-top",style:{height:"300px"},src:t.imageURL,alt:""}),Object(b.jsxs)("div",{className:"card-body d-flex justify-content-between",children:[Object(b.jsx)("h3",{className:"card-title",children:t.name}),Object(b.jsxs)("p",{children:["$",t.price]}),Object(b.jsx)("button",{onClick:function(){c.push("/checkout/".concat(t._id))},className:"btn btn-primary",children:"Buy Now"})]})]})})},x=c(88),f=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)([]),a=Object(i.a)(s,2),o=a[0],d=a[1];return Object(n.useEffect)((function(){fetch("https://calm-refuge-18534.herokuapp.com/products").then((function(e){return e.json()})).then((function(e){d(e),r(!1)}))}),[]),Object(b.jsx)("div",{className:"row",style:{backgroundColor:"gray"},children:c?Object(b.jsx)(x.a,{}):o.map((function(e){return Object(b.jsx)(p,{product:e})}))})},g=c(19),v=c(17),y=(c(73),{apiKey:"AIzaSyDX0TADWiJaC5wnHTWRlr9fWItpBbeZJaE",authDomain:"electronics-shop-clien.firebaseapp.com",projectId:"electronics-shop-clien",storageBucket:"electronics-shop-clien.appspot.com",messagingSenderId:"123350579722",appId:"1:123350579722:web:6c9b8240eace712610bdf3"}),N=function(e){v.a.auth().currentUser.updateProfile({displayName:e}).then((function(){console.log("user name updated successfully")})).catch((function(e){console.log(e)}))};var w=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)({isSignedIn:!1,name:"",email:"",password:"",photo:""}),a=Object(i.a)(s,2),o=a[0],j=a[1];v.a.apps.length||v.a.initializeApp(y);var l=Object(n.useContext)(A),u=Object(i.a)(l,2),h=(u[0],u[1]),O=Object(d.g)(),m=(Object(d.h)().state||{from:{pathname:"/"}}).from,p=function(e,t){j(e),h(e),t&&O.replace(m)},x=function(e){var t=!0;if("email"===e.target.name&&(t=/\S+@\S+\.\S+/.test(e.target.value)),"password"===e.target.name){var c=e.target.value.length>6,n=/\d{1}/.test(e.target.value);t=c&&n}if(t){var r=Object(g.a)({},o);r[e.target.name]=e.target.value,j(r)}};return Object(b.jsxs)("div",{className:"card text-white bg-success mb-3",style:{textAlign:"center"},children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h1",{children:"Our Own Authentication"})}),Object(b.jsxs)("div",{className:"card-body",children:[o.isSignedIn?Object(b.jsx)("button",{onClick:function(){v.a.auth().signOut().then((function(e){return{isSignedIn:!1,name:"",email:"",photo:"",error:"",success:!1}})).catch((function(e){})).then((function(e){p(e,!1)}))},children:"Sign out"}):Object(b.jsx)("button",{onClick:function(){(function(){var e=new v.a.auth.GoogleAuthProvider;return v.a.auth().signInWithPopup(e).then((function(e){var t=e.user,c=t.displayName,n=t.photoURL;return{isSignedIn:!0,name:c,email:t.email,photo:n,success:!0}})).catch((function(e){console.log(e),console.log(e.message)}))})().then((function(e){p(e,!0)}))},children:"Google Sign In"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"checkbox",onChange:function(){return r(!c)},name:"newUser"}),Object(b.jsx)("label",{htmlFor:"newUser",children:"New User Sign up"}),Object(b.jsxs)("form",{onSubmit:function(e){var t,n,r;c&&o.email&&o.password&&(t=o.name,n=o.email,r=o.password,v.a.auth().createUserWithEmailAndPassword(n,r).then((function(e){var c=e.user;return c.error="",c.success=!0,N(t),c})).catch((function(e){var t={};return t.error=e.message,t.success=!1,t}))).then((function(e){p(e,!0)})),!c&&o.email&&o.password&&function(e,t){return v.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;return t.error="",t.success=!0,t})).catch((function(e){var t={};return t.error=e.message,t.success=!1,t}))}(o.email,o.password).then((function(e){p(e,!0)})),e.preventDefault()},children:[c&&Object(b.jsx)("input",{type:"text",name:"name",onBlur:x,placeholder:"Your name"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"text",name:"email",onBlur:x,placeholder:"Your Email address",required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"password",name:"password",onBlur:x,placeholder:"Your Password",required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"submit",value:c?"Sign up":"Sign in"})]}),Object(b.jsx)("p",{style:{color:"red"},children:o.error}),o.success&&Object(b.jsxs)("p",{style:{color:"green"},children:["User ",c?"created":"Logged In"," successfully"]})]})]})},P=function(e){var t=e.controlProduct;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.name}),Object(b.jsx)("td",{children:t.price}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{children:"edit"})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{onClick:function(){return e=t._id,console.log(e),void fetch("https://calm-refuge-18534.herokuapp.com/delete/".concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){alert("This product is deleted. please check Home Page........")}));var e},children:"Delete"})})]})},S=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){fetch("https://calm-refuge-18534.herokuapp.com/products").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),Object(b.jsxs)("table",{class:"table",children:[Object(b.jsx)("thead",{class:"thead-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Product Name"}),Object(b.jsx)("th",{scope:"col",children:"Price"}),Object(b.jsx)("th",{scope:"col",children:"Edit"}),Object(b.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(b.jsx)("tbody",{children:c.map((function(e){return Object(b.jsx)(P,{controlProduct:e})}))})]})},k=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){fetch("https://calm-refuge-18534.herokuapp.com/orderDetails").then((function(e){return e.json()})).then((function(e){console.log(e),r(e)}))}),[]),Object(b.jsxs)("div",{className:"card text-white bg-success mb-3",style:{textAlign:"center"},children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsxs)("h1",{children:["There are ",c.length," orders"]})}),Object(b.jsx)("div",{className:"card-body",children:c.map((function(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{style:{border:"1px solid blue"},children:[Object(b.jsxs)("h3",{children:["Name : ",e.name]}),Object(b.jsxs)("h3",{children:["Product Name : ",e.products.name]}),Object(b.jsxs)("h3",{children:["Order Date : ",new Date(e.orderTime).toDateString("dd/MM/yyyy")]})]})})}))})]})},C=c(40),I=function(e){var t=e.children,c=Object(C.a)(e,["children"]),r=Object(n.useContext)(A),s=Object(i.a)(r,2),a=s[0];s[1];return Object(b.jsx)(d.b,Object(g.a)(Object(g.a)({},c),{},{render:function(e){var c=e.location;return a.email?t:Object(b.jsx)(d.a,{to:{pathname:"/login",state:{from:c}}})}}))},E=(c(75),function(){var e=Object(d.i)().ProductId;console.log(e);var t=Object(n.useState)({}),c=Object(i.a)(t,2),r=c[0],s=c[1];Object(n.useEffect)((function(){fetch("https://calm-refuge-18534.herokuapp.com/products").then((function(e){return e.json()})).then((function(t){for(var c,n=0;n<t.length;n++)if(t[n]._id===e){c=n;break}s(t[c])}))}),[]);var a=Object(u.a)(),o=a.register,j=a.handleSubmit,l=(a.watch,a.errors),h=Object(n.useContext)(A),O=Object(i.a)(h,2),m=O[0];O[1];return Object(b.jsxs)("div",{className:"card text-white bg-success mb-3",style:{textAlign:"center"},children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h1",{children:"Please give your address for shipment"})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{onSubmit:j((function(e){var t=Object(g.a)(Object(g.a)({},m),{},{shipment:e,products:r,orderTime:new Date});fetch("https://calm-refuge-18534.herokuapp.com/addOrder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e&&alert("your order placed successfully,  please  check your Order Page.....")}))})),className:"ship-form",children:[Object(b.jsx)("input",{name:"name",defaultValue:m.name,ref:o({required:!0}),placeholder:"Your Name"}),l.name&&Object(b.jsx)("span",{className:"error",children:"Name is required"}),Object(b.jsx)("input",{name:"email",defaultValue:m.email,ref:o({required:!0}),placeholder:"Your Email"}),l.email&&Object(b.jsx)("span",{className:"error",children:"Email is required"}),Object(b.jsx)("input",{name:"address",ref:o({required:!0}),placeholder:"Your Address"}),l.address&&Object(b.jsx)("span",{className:"error",children:"Address is required"}),Object(b.jsx)("input",{name:"phone",ref:o({required:!0}),placeholder:"Your Phone Number"}),l.phone&&Object(b.jsx)("span",{className:"error",children:"Phone Number is required"}),Object(b.jsx)("input",{className:"btn btn-secondary",type:"submit"})]})})]})}),A=Object(n.createContext)();var D=function(e){var t=Object(n.useState)({}),c=Object(i.a)(t,2),r=c[0],s=c[1];return Object(b.jsx)(A.Provider,{value:[r,s],children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(m,{}),Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{exact:!0,path:"/",children:Object(b.jsx)(f,{})}),Object(b.jsx)(I,{path:"/addProducts",children:Object(b.jsx)(h,{})}),Object(b.jsx)(I,{path:"/manageProducts",children:Object(b.jsx)(S,{})}),Object(b.jsx)(I,{path:"/checkout/:ProductId",children:Object(b.jsx)(O,{})}),Object(b.jsx)(I,{path:"/shipment/:ProductId",children:Object(b.jsx)(E,{})}),Object(b.jsx)(I,{path:"/orders",children:Object(b.jsx)(k,{})}),Object(b.jsx)(d.b,{path:"/login",children:Object(b.jsx)(w,{})})]})]})})},T=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,89)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root")),T()}},[[76,1,2]]]);
//# sourceMappingURL=main.ff14b0a0.chunk.js.map